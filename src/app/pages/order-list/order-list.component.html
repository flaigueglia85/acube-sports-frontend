<section class="min-h-[calc(100vh-4rem)] bg-gradient-to-b from-primary/5 to-white py-10">
    <div class="max-w-5xl mx-auto px-4">
        <div class="text-center mb-4">
            <h1 class="text-3xl font-extrabold tracking-tight text-primary">I miei ordini</h1>
            <p class="text-gray-600 mt-1 text-sm">dai un'occhiata ai tuoi ordini</p>
        </div>

        <ng-container *ngIf="loading">Caricamento ordini...</ng-container>
        <ng-container *ngIf="error">Errore durante il recupero degli ordini.</ng-container>

        <ng-container *ngIf="!loading && !error && orders.length === 0">
            <p class="text-center text-gray-500">Non hai ancora effettuato ordini.</p>
        </ng-container>

        <ng-container *ngIf="activeOrders.length">
            <details open class="mb-6 border rounded-lg p-4 bg-white shadow">
                <summary class="font-semibold text-lg cursor-pointer select-none">
                    <ng-icon name="heroClock" class="w-5 h-5 pt-0.5 ml-2 text-yellow-500" ></ng-icon> Ordini in corso ({{ activeOrders.length }})
                </summary>
                <div class="pt-4 space-y-4">
                    <ng-container *ngFor="let order of activeOrders">
                        <app-order-card [order]="order" />
                    </ng-container>
                </div>
            </details>
        </ng-container>

        <ng-container *ngIf="completedOrders.length">
            <details class="mb-6 border rounded-lg p-4 bg-white shadow">
                <summary class="font-semibold text-lg cursor-pointer select-none">
                    <ng-icon name="heroCheckCircle" class="w-5 h-5 pt-0.5 ml-2 text-green-800" ></ng-icon> Ordini completati ({{
                    completedOrders.length }})
                </summary>
                <div class="pt-4 space-y-4">
                    <ng-container *ngFor="let order of completedOrders">
                        <app-order-card [order]="order" />
                    </ng-container>
                </div>
            </details>
        </ng-container>

        <ng-container *ngIf="cancelledOrders.length">
            <details class="border rounded-lg p-4 bg-white shadow">
                <summary class="font-semibold text-lg cursor-pointer select-none">
                    ðŸ”´ Ordini annullati o falliti ({{ cancelledOrders.length }})
                </summary>
                <div class="pt-4 space-y-4">
                    <ng-container *ngFor="let order of cancelledOrders">
                        <app-order-card [order]="order" />
                    </ng-container>
                </div>
            </details>
        </ng-container>
    </div>
</section>