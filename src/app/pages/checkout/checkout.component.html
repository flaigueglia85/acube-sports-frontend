<section class="container mx-auto p-4" *ngIf="cart?.items?.length; else emptyCart">
  <h2 class="text-2xl font-semibold mb-4">Checkout</h2>

  <form (ngSubmit)="submitOrder()" #f="ngForm" class="grid gap-4 max-w-lg">
    <div>
      <label class="block mb-1">Nome</label>
      <input type="text" name="name" [(ngModel)]="customer.name" required class="w-full border rounded p-2" />
    </div>
    <div>
      <label class="block mb-1">Indirizzo</label>
      <input type="text" name="address" [(ngModel)]="customer.address" required class="w-full border rounded p-2" />
    </div>
    <div>
      <label class="block mb-1">Email</label>
      <input type="email" name="email" [(ngModel)]="customer.email" required class="w-full border rounded p-2" />
    </div>

    <p class="font-bold mt-4">Totale: {{ cart?.total_raw??0 | currency:'EUR' }}</p>
    <button type="submit" [disabled]="f.invalid" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
      Conferma e paga
    </button>
  </form>
</section>

<ng-template #emptyCart>
  <p class="text-center mt-8">Il tuo carrello Ã¨ vuoto.</p>
</ng-template>
