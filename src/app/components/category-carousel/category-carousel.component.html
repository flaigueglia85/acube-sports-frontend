<section class="px-4 py-10 bg-gradient-to-b from-white to-primary/5">
  <h2 class="text-2xl font-semibold text-center mb-8 text-primary">Le nostre squadre</h2>

  <div class="carousel max-w-6xl mx-auto">
    <!-- Controls desktop -->
    <button type="button" class="ctrl left hidden md:flex" (click)="nudge(-1)" aria-label="precedente">‹</button>
    <button type="button" class="ctrl right hidden md:flex" (click)="nudge(1)"  aria-label="successiva">›</button>

    <div *ngIf="loading" class="text-center text-gray-500 py-12">
      <app-loading-spinner label="Caricamento..." size="lg"></app-loading-spinner>
    </div>

    <div #viewport
         class="viewport"
         (mouseenter)="pause()"
         (mouseleave)="resume()"
         (pointerdown)="onPointerDown($event)"
         (pointermove)="onPointerMove($event)"
         (pointerup)="onPointerUp($event)"
         (pointercancel)="onPointerUp($event)"
         (pointerleave)="onPointerUp($event)">

      <!-- gradient edges -->
      <div class="edge left" aria-hidden="true"></div>
      <div class="edge right" aria-hidden="true"></div>

      <div #track class="track" [style.transform]="transform">
        <div *ngFor="let cat of stream"
             class="team-card"
             (click)="goToCategory(cat)"
             tabindex="0"
             (keyup.enter)="goToCategory(cat)"
             (keyup.space)="goToCategory(cat)">
          <img loading="lazy"
               [src]="cat.image?.src || '/assets/placeholder.png'"
               [alt]="cat.name" />
          <span class="label">{{ cat.name }}</span>
        </div>
      </div>
    </div>
  </div>
</section>
